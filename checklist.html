<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checklist | OHS CSS App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' }
  </script>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="h-full bg-gray-100 dark:bg-gray-900 transition-colors duration-300">
<div class="min-h-full flex flex-col">
  <!-- Header -->
  <header class="bg-blue-600 text-white shadow-md dark:bg-gray-800">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <h1 class="text-xl font-bold">Occupational Health and Safety Procedures - Computer System Servicing</h1>
      <!-- Light/Dark Mode Toggle -->
      <button id="theme-toggle"
              class="ml-4 p-2 rounded-full bg-white dark:bg-gray-700 text-blue-600 dark:text-yellow-300 shadow transition-colors"
              title="Toggle light/dark mode">
        <i id="theme-icon" class="fas"></i>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto px-4 py-6 pb-24">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Safety Checklist</h2>
      <button id="reset-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg shadow hover:bg-red-700 transition">
        Reset
      </button>
    </div>

    <!-- Progress Bar -->
    <div class="mb-6">
      <div class="flex justify-between mb-2">
        <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Checklist Progress</span>
        <span id="checklist-progress" class="text-sm font-medium text-gray-700 dark:text-gray-300">0/24</span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
        <div id="checklist-progress-bar" class="bg-green-600 h-2.5 rounded-full" style="width:0%"></div>
      </div>
    </div>

    <!-- Checklist Items -->
    <div class="space-y-4">

      <!-- General Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">General Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-1" class="custom-checkbox mr-3" data-category="general">
            <label for="check-1" class="text-gray-700 dark:text-gray-300">Wear appropriate personal protective equipment (PPE)</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-2" class="custom-checkbox mr-3" data-category="general">
            <label for="check-2" class="text-gray-700 dark:text-gray-300">Keep work area clean, dry, and organized</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-3" class="custom-checkbox mr-3" data-category="general">
            <label for="check-3" class="text-gray-700 dark:text-gray-300">Use correct lifting techniques when handling heavy equipment</label>
          </div>
        </div>
      </div>

      <!-- Electrical Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Electrical Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-4" class="custom-checkbox mr-3" data-category="electrical">
            <label for="check-4" class="text-gray-700 dark:text-gray-300">Disconnect power before working on equipment</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-5" class="custom-checkbox mr-3" data-category="electrical">
            <label for="check-5" class="text-gray-700 dark:text-gray-300">Use anti-static wrist strap or mat when handling components</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-6" class="custom-checkbox mr-3" data-category="electrical">
            <label for="check-6" class="text-gray-700 dark:text-gray-300">Inspect cables and plugs for damage before use</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-7" class="custom-checkbox mr-3" data-category="electrical">
            <label for="check-7" class="text-gray-700 dark:text-gray-300">Avoid overloading outlets and extension cords</label>
          </div>
        </div>
      </div>

      <!-- Tool Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Tool Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-8" class="custom-checkbox mr-3" data-category="tools">
            <label for="check-8" class="text-gray-700 dark:text-gray-300">Use tools only for their intended purpose</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-9" class="custom-checkbox mr-3" data-category="tools">
            <label for="check-9" class="text-gray-700 dark:text-gray-300">Keep cutting tools sharp and in good condition</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-10" class="custom-checkbox mr-3" data-category="tools">
            <label for="check-10" class="text-gray-700 dark:text-gray-300">Store tools safely when not in use</label>
          </div>
        </div>
      </div>

      <!-- Fire Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Fire Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-11" class="custom-checkbox mr-3" data-category="fire">
            <label for="check-11" class="text-gray-700 dark:text-gray-300">Keep flammable materials away from heat sources</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-12" class="custom-checkbox mr-3" data-category="fire">
            <label for="check-12" class="text-gray-700 dark:text-gray-300">Ensure fire extinguishers are accessible and inspected</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-13" class="custom-checkbox mr-3" data-category="fire">
            <label for="check-13" class="text-gray-700 dark:text-gray-300">Never use water on electrical fires</label>
          </div>
        </div>
      </div>

      <!-- Ergonomic Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Ergonomic Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-14" class="custom-checkbox mr-3" data-category="ergonomic">
            <label for="check-14" class="text-gray-700 dark:text-gray-300">Adjust workstation to maintain proper posture</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-15" class="custom-checkbox mr-3" data-category="ergonomic">
            <label for="check-15" class="text-gray-700 dark:text-gray-300">Take regular breaks to prevent eye strain and fatigue</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-16" class="custom-checkbox mr-3" data-category="ergonomic">
            <label for="check-16" class="text-gray-700 dark:text-gray-300">Use proper seating and monitor positioning</label>
          </div>
        </div>
      </div>

      <!-- Chemical Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Chemical Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-17" class="custom-checkbox mr-3" data-category="chemical">
            <label for="check-17" class="text-gray-700 dark:text-gray-300">Store solvents and chemicals in labeled containers</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-18" class="custom-checkbox mr-3" data-category="chemical">
            <label for="check-18" class="text-gray-700 dark:text-gray-300">Wear gloves and masks when handling hazardous substances</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-19" class="custom-checkbox mr-3" data-category="chemical">
            <label for="check-19" class="text-gray-700 dark:text-gray-300">Dispose of chemical waste properly</label>
          </div>
        </div>
      </div>

      <!-- Psychological Safety -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Psychological Safety</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-20" class="custom-checkbox mr-3" data-category="psychological">
            <label for="check-20" class="text-gray-700 dark:text-gray-300">Manage workload to reduce stress and fatigue</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-21" class="custom-checkbox mr-3" data-category="psychological">
            <label for="check-21" class="text-gray-700 dark:text-gray-300">Take scheduled breaks to maintain focus</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-22" class="custom-checkbox mr-3" data-category="psychological">
            <label for="check-22" class="text-gray-700 dark:text-gray-300">Seek support when dealing with challenging tasks</label>
          </div>
        </div>
      </div>

      <!-- Emergency Preparedness -->
      <div class="checklist-category bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
        <h3 class="font-bold text-lg text-gray-800 dark:text-white mb-3">Emergency Preparedness</h3>
        <div class="space-y-3">
          <div class="flex items-center">
            <input type="checkbox" id="check-23" class="custom-checkbox mr-3" data-category="emergency">
            <label for="check-23" class="text-gray-700 dark:text-gray-300">Know the location of fire exits and assembly points</label>
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="check-24" class="custom-checkbox mr-3" data-category="emergency">
            <label for="check-24" class="text-gray-700 dark:text-gray-300">Be trained in basic first aid and fire extinguisher use</label>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Mobile Icon Navigation Bar -->
  <nav class="fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 shadow flex justify-around py-2 z-40">
    <a href="home.html" class="flex flex-col items-center text-gray-600 dark:text-gray-300">
      <i class="fas fa-home text-xl"></i>
      <span class="text-xs">Home</span>
    </a>
    <a href="lessons.html" class="flex flex-col items-center text-gray-600 dark:text-gray-300">
      <i class="fas fa-book text-xl"></i>
      <span class="text-xs">Lessons</span>
    </a>
    <a href="checklist.html" class="flex flex-col items-center text-blue-600 dark:text-blue-300">
      <i class="fas fa-clipboard-list text-xl"></i>
      <span class="text-xs">Checklist</span>
    </a>
    <a href="assessment.html" class="flex flex-col items-center text-gray-600 dark:text-gray-300">
      <i class="fas fa-question-circle text-xl"></i>
      <span class="text-xs">Assessment</span>
    </a>
  </nav>
</div>

<!-- Scripts -->
<script>
  // Dark/Light Mode
  document.addEventListener('DOMContentLoaded', function () {
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');

    function updateIcon(isDark) {
      themeIcon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
    }

    function setTheme(mode) {
      if (mode === 'dark') {
        document.documentElement.classList.add('dark');
        updateIcon(true);
      } else {
        document.documentElement.classList.remove('dark');
        updateIcon(false);
      }
      localStorage.setItem('theme', mode);
    }

    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      setTheme(savedTheme);
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      setTheme('dark');
    } else {
      setTheme('light');
    }

    themeToggle.addEventListener('click', () => {
      const isDark = document.documentElement.classList.contains('dark');
      setTheme(isDark ? 'light' : 'dark');
    });
  });

  // Checklist persistence + progress
  document.addEventListener('DOMContentLoaded', function () {
    const checkboxes = document.querySelectorAll('.custom-checkbox');
    const progressCount = document.getElementById('checklist-progress');
    const progressBar = document.getElementById('checklist-progress-bar');
    const resetBtn = document.getElementById('reset-btn');

    // Load saved state
    let checklist = JSON.parse(localStorage.getItem('checklist')) || { items: [] };

    // Apply saved states to checkboxes
    checkboxes.forEach(cb => {
      const saved = checklist.items.find(i => i.id === cb.id);
      if (saved) cb.checked = !!saved.completed;

      cb.addEventListener('change', () => {
        const existing = checklist.items.find(i => i.id === cb.id);
        if (existing) {
          existing.completed = cb.checked;
        } else {
          checklist.items.push({ id: cb.id, completed: cb.checked });
        }
        localStorage.setItem('checklist', JSON.stringify(checklist));
        renderProgress();
      });
    });

    // Reset button
    resetBtn.addEventListener('click', () => {
      checkboxes.forEach(cb => cb.checked = false);
      checklist = { items: [] };
      localStorage.setItem('checklist', JSON.stringify(checklist));
      renderProgress();
    });

    function renderProgress() {
      const completed = checklist.items.filter(i => i.completed).length;
      const total = checkboxes.length;
      progressCount.textContent = `${completed}/${total}`;
      const percent = Math.round((completed / total) * 100);
      progressBar.style.width = percent + '%';
    }

    renderProgress();
  });

  // Custom checkbox styling
  (function addCustomCheckboxCSS(){
    const style = document.createElement('style');
    style.innerHTML = `
      .custom-checkbox {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        width: 24px;
        height: 24px;
        border: 2px solid #3b82f6; /* Tailwind blue-600 */
        border-radius: 4px;
        outline: none;
        cursor: pointer;
        position: relative;
        background: transparent;
      }
      .custom-checkbox:checked {
        background-color: #3b82f6;
      }
      .custom-checkbox:checked::after {
        content: '\\2713';
        font-size: 16px;
        color: white;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    `;
    document.head.appendChild(style);
  })();
</script>
</body
