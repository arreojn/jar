<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Lessons | OHS CSS App</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/lesson-card.css">
  <style>
    .search-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2rem;
      align-items: center;
    }
    .search-input {
      width: 100%;
      max-width: 400px;
      padding: 0.75rem 1rem;
      border: 2px solid rgba(37,99,235,0.2);
      border-radius: 1rem;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(10px);
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    .search-input:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
    }
    .progress-indicator {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: rgba(255,255,255,0.8);
      padding: 0.75rem 1.5rem;
      border-radius: 1rem;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(37,99,235,0.1);
    }
    .progress-bar-bg {
      width: 200px;
      height: 8px;
      background: rgba(37,99,235,0.2);
      border-radius: 4px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #2563eb, #facc15);
      border-radius: 4px;
      transition: width 0.5s ease;
    }
    .greeting-card {
      animation: fadeInUp 0.8s ease-out;
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .lesson-card {
      animation: fadeIn 0.6s ease-out;
      animation-fill-mode: both;
    }
    .lesson-card:nth-child(1) { animation-delay: 0.1s; }
    .lesson-card:nth-child(2) { animation-delay: 0.2s; }
    .lesson-card:nth-child(3) { animation-delay: 0.3s; }
    .lesson-card:nth-child(4) { animation-delay: 0.4s; }
    .lesson-card:nth-child(5) { animation-delay: 0.5s; }
    .lesson-card:nth-child(6) { animation-delay: 0.6s; }
    .lesson-card:nth-child(7) { animation-delay: 0.7s; }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .lesson-detail-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      background: rgba(255,255,255,0.9);
      border-radius: 1.5rem;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(37,99,235,0.15);
    }
    .lesson-detail-content h3 {
      color: #2563eb;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    .lesson-detail-content p {
      line-height: 1.7;
      margin-bottom: 1rem;
    }
    .lesson-detail-content ul {
      margin-left: 1.5rem;
      margin-bottom: 1rem;
    }
    .lesson-detail-content li {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
<div class="main-wrapper">
  <!-- Header -->
  <header class="header small-header">
    <div class="header-container">
      <h1 class="header-title">Occupational Health and Safety Procedures - CSS</h1>
    </div>
  </header>
  <!-- After header -->
<div id="greeting" class="greeting-block" style="display:flex;justify-content:center;">
    <!-- Greeting will be injected here -->
</div>

  <main class="main-content">
    <section id="lessons-list">
      <h2 class="main-title" >Occupational Health and Safety Procedures - Lessons</h2>
      <div class="search-container">
        <input type="text" id="lesson-search" placeholder="Search lessons..." class="search-input">
        <div id="progress-indicator" class="progress-indicator">
          <span id="progress-text">0% Complete</span>
          <div class="progress-bar-bg">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
        </div>
      </div>
      <div id="lesson-cards" style="display: flex; flex-wrap: wrap; gap: 1.5rem; justify-content: center;"></div>
    </section>
    <section id="lesson-detail" class="hidden">
      <h2 id="lesson-title" class="main-title"></h2>
      <div id="lesson-content"></div>
      <button id="mark-complete" class="button">Mark as Complete</button>
      <button id="back-to-list" class="button">Back to List</button>
    </section>
  </main>
  <nav class="bottom-nav">
    <a href="home.html" class="nav-link">
      <img src="src/home.png" alt="Home" class="nav-img">
      <span class="nav-label">Home</span>
    </a>
    <a href="lessons.html" class="nav-link active">
      <img src="src/book.png" alt="Lessons" class="nav-img">
      <span class="nav-label">Lessons</span>
    </a>
    <a href="checklist.html" class="nav-link">
      <img src="src/checklist1.png" alt="Checklist" class="nav-img">
      <span class="nav-label">Checklist</span>
    </a>
    <a href="assessment.html" class="nav-link">
      <img src="src/assessment.png" alt="Assessment" class="nav-img">
      <span class="nav-label">Assessment</span>
    </a>
    <a href="settings.html" class="nav-link">
      <img src="src/settings.png" alt="Settings" class="nav-img">
      <span class="nav-label">Settings</span>
    </a>
  </nav>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Greeting logic
    function showGreeting() {
        let name = 'Guest';
        let image = null;
        const userData = localStorage.getItem('userData');
        if (userData) {
            try {
                const parsed = JSON.parse(userData);
                if (parsed.name) name = parsed.name;
                if (parsed.image) image = parsed.image;
            } catch (e) {}
        }
        const initial = name && name.length > 0 ? name.trim()[0].toUpperCase() : 'G';
        const avatarHtml = image
            ? `<img src="${image}" alt="Learner Photo" class="greeting-avatar">`
            : `<div class="greeting-avatar">${initial}</div>`;
        document.getElementById('greeting').innerHTML = `
            <div class="greeting-card">
                ${avatarHtml}
                <div class="greeting-texts">
                    <div class="greeting-title">${name}!</div>
                    <div class="greeting-sub">These are the lessons that you need to understand</div>
                </div>
            </div>
        `;
    }
    showGreeting();
});
</script>

<script>
// Define lessonsContent globally so all functions can access it
const lessonsContent = {
  1: {
    title: "Introduction to OHS in CSS",
    short: "Overview of OHS principles and importance in Computer System Servicing.",
    icon: "src/book.png",
    content: `
      <div class="lesson-card-content glass-card">
<img src="src/ohsbanner.gif" alt="Introduction to OHS" class="lesson-img-banner" />
            <video class="lesson-video" src="src/introtoOHS.mp4" controls autoplay muted></video>
            <p class="video-source">Source: Occupational Health and Safety (OHS) Standards in CSS | Computer Systems Servicing Guide - https://www.youtube.com/watch?v=m5gxAICpKps</p>
        <p class="lesson-paragraph">
          Occupational Health and Safety (OHS) refers to laws, standards, and best practices that ensure the safety and well-being of workers in Computer System Servicing (CSS).
        </p>
        <div class="lesson-highlight lesson-blue glass-card">
          <strong>Why is OHS important in CSS?</strong>
          <ul>
            <li>Prevents workplace injuries and illnesses</li>
            <li>Reduces risks of electrical shocks, burns, and fires</li>
            <li>Minimizes exposure to hazardous materials and chemicals</li>
            <li>Promotes proper ergonomic practices to avoid musculoskeletal disorders</li>
            <li>Encourages a safe, efficient, and productivity-boosting environment</li>
            <li>Ensures compliance with legal and regulatory requirements</li>
            <li>Raises awareness of emergency procedures and first aid response</li>
          </ul>
        </div>
        <h3 class="lesson-section-title">Common Hazards in Computer System Servicing</h3>
        <div class="lesson-hazards">
          <div class="lesson-hazard glass-card">
            <img src="src/electrical.png" alt="Electrical Hazards" class="lesson-img" />
            <h4>Electrical Hazards</h4>
            <p>Exposure to live wires, faulty components, overloaded circuits, or poor grounding can result in electric shocks, equipment damage, or fires.</p>
          </div>
          <div class="lesson-hazard glass-card">
            <img src="src/ergo.png" alt="Ergonomic Hazards" class="lesson-img" />
            <h4>Ergonomic Hazards</h4>
            <p>Improper workstation setup, poor posture, and repetitive tasks may lead to back pain, carpal tunnel syndrome, eye strain, or fatigue.</p>
          </div>
          <div class="lesson-hazard glass-card">
            <img src="src/chemical.png" alt="Chemical Hazards" class="lesson-img" />
            <h4>Chemical Hazards</h4>
            <p>Exposure to printer toners, cleaning solvents, soldering fumes, and other chemicals used in maintenance can cause skin or respiratory issues if mishandled.</p>
          </div>
          <div class="lesson-hazard glass-card">
            <img src="src/physical.png" alt="Physical Hazards" class="lesson-img" />
            <h4>Physical Hazards</h4>
            <p>Sharp edges of metal casings, tripping over cables, lifting heavy equipment, or mishandling tools can result in cuts, bruises, or sprains.</p>
          </div>
          <div class="lesson-hazard glass-card">
            <img src="src/fire.png" alt="Fire Hazards" class="lesson-img" />
            <h4>Fire Hazards</h4>
            <p>Overheating components, short circuits, or improper storage of flammable materials can trigger workplace fires if safety measures are ignored.</p>
          </div>
          <div class="lesson-hazard glass-card">
            <img src="src/stress.png" alt="Psychological Hazards" class="lesson-img" />
            <h4>Psychological Hazards</h4>
            <p>Stress, long working hours, or lack of proper breaks may affect focus, leading to errors and accidents.</p>
          </div>
        </div>
        <h3 class="lesson-section-title">Basic OHS Principles for CSS</h3>
        <ol class="lesson-list">
          <li>Always disconnect power before repairing or servicing equipment</li>
          <li>Use appropriate Personal Protective Equipment (PPE) such as gloves and anti-static wrist straps</li>
          <li>Maintain a clean, dry, and organized work area free of clutter and spills</li>
          <li>Follow proper lifting techniques to avoid back injuries when moving heavy equipment</li>
          <li>Practice safe cable management to prevent tripping hazards</li>
          <li>Know the location of emergency exits, alarms, and fire extinguishers</li>
          <li>Have easy access to first aid kits and emergency contact numbers</li>
          <li>Report and document any hazards, accidents, or near-misses immediately</li>
          <li>Attend regular OHS training and drills to stay updated on safety protocols</li>
          <li>Always follow manufacturer’s guidelines and industry best practices when servicing equipment</li>
        </ol>
        <div class="lesson-highlight lesson-yellow glass-card">
          <strong>Remember:</strong>
          <p>A safe technician is an effective technician. By following OHS principles, you not only protect yourself but also ensure the reliability and longevity of the systems you maintain.</p>
        </div>
      </div>
    `
  },
  2: {
    title: "Electrical Safety",
    short: "Key electrical hazards and safety measures.",
    icon: "src/electrical.png",
    content: `
    <div class="lesson-card-content glass-card">
<img src="src/elecbanner.gif" alt="Electrical Safety" class="lesson-img-banner" />
           <video class="lesson-video" src="src/electricalhazard.mp4" controls autoplay muted></video>
           <p class="video-source">Source: OSHA Electrical Safety: How To Prevent Electrical Hazards - https://www.youtube.com/watch?v=TMT6f3tZQSk</p>
      <p class="lesson-paragraph">
        Computer System Servicing (CSS) involves handling electrical and electronic components. Without proper precautions, workers are exposed to risks such as <strong>electric shocks, burns, equipment damage, fires, or even fatalities</strong>.
      </p>
      <div class="lesson-highlight lesson-red glass-card">
        <strong>Dangerous Practices to Avoid:</strong>
        <ul>
          <li>Working on live circuits unless absolutely necessary and authorized</li>
          <li>Using damaged, frayed, or makeshift power cords</li>
          <li>Overloading outlets, extension cords, or power strips</li>
          <li>Using metal tools or jewelry near exposed circuits</li>
          <li>Working with wet hands, damp clothing, or in humid environments</li>
          <li>Bypassing safety features such as fuses or circuit breakers</li>
        </ul>
      </div>
      <h3 class="lesson-section-title">Essential Electrical Safety Measures</h3>
      <div class="lesson-hazards">
        <div class="lesson-hazard glass-card">
          <img src="src/disconnect.png" alt="Power Disconnection" class="lesson-img" />
          <h4>Power Disconnection</h4>
          <p>Always unplug and isolate equipment before servicing. Disconnect from the wall outlet rather than just switching off the power supply.</p>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/ppe.png" alt="Use of PPE" class="lesson-img" />
          <h4>Use of PPE</h4>
          <p>Wear insulated gloves and shoes, and use insulated tools. Anti-static wrist straps should be properly grounded to prevent damage to components.</p>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/ground.png" alt="Proper Grounding" class="lesson-img" />
          <h4>Proper Grounding</h4>
          <p>Ensure all equipment is properly grounded. Use three-pronged plugs and test outlets for proper wiring before use.</p>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/esd.png" alt="Static Electricity Control" class="lesson-img" />
          <h4>Static Electricity Control</h4>
          <p>Use anti-static mats, wrist straps, and ESD-safe tools to prevent electrostatic discharge (ESD) which can destroy sensitive electronic components.</p>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/safe.jpg" alt="Safe Workspace" class="lesson-img" />
          <h4>Safe Workspace</h4>
          <p>Keep the work area clean, dry, and free from conductive clutter. Avoid running power cords under carpets or across walkways.</p>
        </div>
      </div>
      <h3 class="lesson-section-title">Working with Capacitors</h3>
      <div class="lesson-highlight lesson-yellow glass-card">
        <strong>Safety Steps:</strong>
        <ol class="lesson-list">
          <li>Unplug the power supply and allow at least <strong>15–30 minutes</strong> for natural discharge.</li>
          <li>Use a properly rated resistor (10–20k ohm, 5W) to safely discharge capacitors.</li>
          <li>Never short capacitors with screwdrivers or pliers—this can cause sparks, explosions, or permanent damage.</li>
          <li>After discharging, confirm with a multimeter that the voltage is at zero.</li>
          <li>If unsure, treat all capacitors as if they are still charged.</li>
        </ol>
      </div>
      <div class="lesson-highlight lesson-green glass-card">
        <strong>Best Practices for Electrical Safety:</strong>
        <ul>
          <li>Inspect cords, plugs, and outlets regularly for wear or damage</li>
          <li>Use surge protectors or UPS for sensitive computer equipment</li>
          <li>Clearly label high-voltage areas and restrict access to authorized personnel only</li>
          <li>Keep liquids, sprays, and conductive objects away from equipment</li>
          <li>Know the location of circuit breakers and how to safely reset them</li>
          <li>Have a <strong>Class C fire extinguisher</strong> available in electrical work areas</li>
          <li>Always work with a buddy or inform someone when performing high-risk electrical servicing</li>
        </ul>
      </div>
    </div>
  `
  },
  3: {
    title: "Fire Safety",
    short: "Fire hazards and prevention in CSS.",
    icon: "src/fire.png",
    content: `
    <div class="lesson-card-content glass-card">
<img src="src/firebanner.gif" alt="Fire Safety" class="lesson-img-banner" />
           <video class="lesson-video" src="src/firesafety.mp4" controls autoplay muted></video>
           <p class="video-source">Source: Fire Emergency and Fire Prevention at your workplace - https://www.youtube.com/watch?v=ReL-DM9xhpI </p>
      <p class="lesson-paragraph">
        Computer equipment and work environments present several potential fire hazards that technicians must be aware of. Fires in IT or electronics workplaces not only threaten human lives but can also damage expensive equipment, destroy important data, and interrupt business operations.
      </p>
      <div class="lesson-hazards">
        <div class="lesson-hazard glass-card">
          <img src="src/fire.png" alt="Fire Hazard" class="lesson-img" />
          <h4>Common Fire Causes</h4>
          <ul>
            <li>Overloaded or improperly connected electrical circuits</li>
            <li>Faulty, frayed, or damaged wiring</li>
            <li>Overheating components such as CPUs, power supplies, or batteries</li>
            <li>Improperly stored or spilled flammable materials</li>
            <li>Battery malfunctions (especially lithium-ion batteries)</li>
            <li>Dust buildup inside equipment that ignites when overheated</li>
            <li>Blocked ventilation preventing heat dissipation</li>
          </ul>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/firepreven.png" alt="Fire Extinguisher" class="lesson-img" />
          <h4>Fire Prevention Measures</h4>
          <ul>
            <li>Schedule regular equipment maintenance and cleaning</li>
            <li>Ensure proper ventilation and cooling systems</li>
            <li>Store flammable liquids and chemicals in labeled, fire-resistant containers</li>
            <li>Avoid overloading power strips and extension cords</li>
            <li>Use surge protectors and UPS correctly</li>
            <li>Keep cables organized to prevent overheating and tripping hazards</li>
            <li>Maintain a clean and clutter-free workspace</li>
          </ul>
        </div>
      </div>
      <h3 class="lesson-section-title">Types of Fire Extinguishers</h3>
      <div class="lesson-highlight lesson-blue glass-card">
        <table class="lesson-table">
          <thead>
            <tr>
              <th>Fire Class</th>
              <th>Description</th>
              <th>Extinguisher Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Class A</td>
              <td>Ordinary combustibles (wood, paper, cloth, plastics)</td>
              <td>Water, foam, dry chemical</td>
            </tr>
            <tr>
              <td>Class B</td>
              <td>Flammable liquids (gasoline, oil, solvents, grease)</td>
              <td>CO₂, dry chemical, foam</td>
            </tr>
            <tr>
              <td>Class C</td>
              <td>Electrical equipment (computers, servers, appliances)</td>
              <td>CO₂, dry chemical (non-conductive)</td>
            </tr>
            <tr>
              <td>Class D</td>
              <td>Combustible metals (magnesium, lithium, sodium)</td>
              <td>Special dry powder extinguishers</td>
            </tr>
            <tr>
              <td>Class K</td>
              <td>Cooking oils and fats</td>
              <td>Wet chemical extinguishers</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="lesson-highlight lesson-yellow glass-card">
        <strong>Important Note:</strong>
        <p>Never use water or foam extinguishers on electrical fires (Class C). Water conducts electricity and can cause electrocution or spread the fire. Always use a CO₂ or non-conductive dry chemical extinguisher for electrical equipment.</p>
      </div>
      <h3 class="lesson-section-title">Emergency Response Plan</h3>
      <ol class="lesson-list">
        <li>Know the location of all fire exits, alarms, and extinguishers in your area.</li>
        <li>Familiarize yourself with evacuation routes and designated assembly points.</li>
        <li>Be trained in the proper use of fire extinguishers (PASS method: Pull, Aim, Squeeze, Sweep).</li>
        <li>Know how to shut off main power sources in case of an electrical fire.</li>
        <li>Never attempt to fight a large or spreading fire — evacuate immediately and call emergency services.</li>
        <li>Assist coworkers or clients in evacuating, especially those with mobility issues.</li>
      </ol>
      <div class="lesson-highlight lesson-blue glass-card">
        <strong>Fire Safety Checklist:</strong>
        <ul>
          <li>Keep work areas free of paper, boxes, and other combustibles.</li>
          <li>Ensure proper ventilation for computer equipment and server racks.</li>
          <li>Regularly inspect cables, plugs, and power strips for damage or overheating.</li>
          <li>Never block access to fire exits, alarms, or firefighting equipment.</li>
          <li>Report any fire hazards or unusual smells immediately.</li>
          <li>Participate in fire drills and take them seriously.</li>
        </ul>
      </div>
    </div>
  `
  },
  4: {
    title: "Hazard Identification",
    short: "Identifying workplace hazards in CSS.",
    icon: "src/hazardiden.png",
    content: `
    <div class="lesson-card-content glass-card">
<img src="src/hazardidentificationbanner.gif" alt="Hazard Identification" class="lesson-img-banner" />
         <video class="lesson-video" src="src/hazardidentification.mp4" controls autoplay muted></video>
         <p class="video-source">Source: Hazard and Risk -- What's the difference? - https://www.youtube.com/watch?v=_GwVTdsnN1E</p>
      <p class="lesson-paragraph">
        Hazard identification is the process of recognizing potential sources of harm in the workplace. In computer system servicing, hazards can be physical, chemical, biological, ergonomic, electrical, or psychological in nature.
      </p>
      <div class="lesson-highlight lesson-purple glass-card">
        <strong>Key Terms:</strong>
        <ul>
          <li><strong>Hazard:</strong> Any source of potential damage, harm, or adverse health effects</li>
          <li><strong>Risk:</strong> The chance or probability that a person will be harmed if exposed to a hazard</li>
          <li><strong>Control Measure:</strong> Steps taken to eliminate or reduce risk</li>
          <li><strong>Incident:</strong> An event that may or may not result in injury, but reveals a safety weakness</li>
        </ul>
      </div>
      <div class="lesson-hazards">
        <div class="lesson-hazard glass-card">
          <img src="src/physical.png" alt="Physical Hazards" class="lesson-img" />
          <h4>Physical Hazards</h4>
          <ul>
            <li>Cuts from sharp edges inside computer cases</li>
            <li>Trips from loose cables on the floor</li>
            <li>Eye injuries from flying debris when drilling</li>
            <li>Back injuries from lifting heavy equipment</li>
          </ul>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/chemical.png" alt="Chemical Hazards" class="lesson-img" />
          <h4>Chemical Hazards</h4>
          <ul>
            <li>Exposure to cleaning solvents</li>
            <li>Printer toner particles</li>
            <li>Battery acid from UPS systems</li>
            <li>Solder fumes</li>
          </ul>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/bio.png" alt="Biological Hazards" class="lesson-img" />
          <h4>Biological Hazards</h4>
          <ul>
            <li>Dust mites in old equipment</li>
            <li>Mold in damp environments</li>
            <li>Bacteria on shared equipment</li>
          </ul>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/ergo.png" alt="Ergonomic Hazards" class="lesson-img" />
          <h4>Ergonomic Hazards</h4>
          <ul>
            <li>Poor workstation setup</li>
            <li>Repetitive strain from keyboard/mouse use</li>
            <li>Awkward postures when servicing equipment</li>
            <li>Eye strain from prolonged screen time</li>
          </ul>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/electrical.png" alt="Electrical Hazards" class="lesson-img" />
          <h4>Electrical Hazards</h4>
          <ul>
            <li>Electric shock from exposed wires</li>
            <li>Overloaded power outlets and extension cords</li>
            <li>Improper grounding of equipment</li>
            <li>Short circuits and fire risks</li>
          </ul>
        </div>
        <div class="lesson-hazard glass-card">
          <img src="src/stress.png" alt="Psychological Hazards" class="lesson-img" />
          <h4>Psychological Hazards</h4>
          <ul>
            <li>Stress due to high workload or deadlines</li>
            <li>Mental fatigue from prolonged troubleshooting</li>
            <li>Frustration from repetitive technical issues</li>
            <li>Burnout from poor work-life balance</li>
          </ul>
        </div>
      </div>
      <h3 class="lesson-section-title">Hazard Identification Process</h3>
      <ol class="lesson-list">
        <li><strong>Workplace Inspection:</strong> Regularly examine the work area for potential hazards</li>
        <li><strong>Task Analysis:</strong> Break down work activities to identify hazards at each step</li>
        <li><strong>Equipment Review:</strong> Check all tools and equipment for potential hazards</li>
        <li><strong>Incident Investigation:</strong> Analyze accidents or near-misses to identify hazards</li>
        <li><strong>Worker Consultation:</strong> Talk to colleagues about hazards they've noticed</li>
      </ol>
      <div class="lesson-highlight lesson-green glass-card">
        <strong>Hazard Identification Tools:</strong>
        <ul>
          <li><strong>Checklists:</strong> Standardized lists of potential hazards</li>
          <li><strong>Job Safety Analysis (JSA):</strong> Breaking down jobs into steps and identifying hazards</li>
          <li><strong>SWIFT Analysis:</strong> Structured What-If Technique for identifying hazards</li>
          <li><strong>Hazard Reporting System:</strong> Formal process for workers to report hazards</li>
        </ul>
      </div>
      <h3 class="lesson-section-title">Hierarchy of Controls</h3>
      <div class="lesson-hazards">
        <div class="lesson-hazard glass-card">
          <h4>Elimination</h4>
          <p>Remove the hazard completely from the workplace</p>
        </div>
        <div class="lesson-hazard glass-card">
          <h4>Substitution</h4>
          <p>Replace with a less hazardous alternative</p>
        </div>
        <div class="lesson-hazard glass-card">
          <h4>Engineering Controls</h4>
          <p>Isolate people from the hazard (e.g., machine guards, circuit breakers)</p>
        </div>
        <div class="lesson-hazard glass-card">
          <h4>Administrative Controls</h4>
          <p>Change work procedures or policies (e.g., job rotation, safety training)</p>
        </div>
        <div class="lesson-hazard glass-card">
          <h4>PPE</h4>
          <p>Personal protective equipment as a last line of defense (gloves, goggles, anti-static wrist straps)</p>
        </div>
      </div>
      <h3 class="lesson-section-title">Preventive Measures</h3>
      <ul class="lesson-list">
        <li>Always power off and unplug devices before servicing</li>
        <li>Use proper lifting techniques to avoid back injuries</li>
        <li>Ensure proper ventilation when soldering or using chemicals</li>
        <li>Label and organize cables to prevent tripping hazards</li>
        <li>Take regular breaks to reduce eye strain and fatigue</li>
        <li>Use ESD protection when handling components</li>
      </ul>
      <div class="lesson-highlight lesson-yellow glass-card">
        <strong>Quick Safety Tips:</strong>
        <ul>
          <li>"If in doubt, ask" — never assume a procedure is safe</li>
          <li>Keep a fire extinguisher and first aid kit accessible</li>
          <li>Report hazards immediately to supervisors</li>
          <li>Stay updated with safety training and drills</li>
        </ul>
      </div>
      <h3 class="lesson-section-title">Case Scenario</h3>
      <p class="lesson-paragraph">
        <strong>Example:</strong> A technician lifted a heavy CPU tower without assistance, resulting in a back injury. This could have been prevented through proper ergonomic training and the use of lifting aids.
      </p>
    </div>
  `
  },
  5: {
    title: "Ergonomics Hazards",
    short: "Ergonomic risks in CSS workplaces.",
    icon: "src/ergonomics.png",
    content: `
    <div class="lesson-card-content glass-card">
<img src="src/ergobanner.gif" alt="Ergonomic workstation example" class="lesson-img-banner" />
           <video class="lesson-video" src="src/ergonomicsvideo.mp4" controls autoplay muted></video>
           <p class="video-source">Source: Ergonomics in the Workplace - https://www.youtube.com/watch?v=n-iAK4vusqk </p>
      <p class="lesson-paragraph">
        Ergonomics is the science of designing the workplace, keeping in mind the capabilities and limitations of the worker. In CSS, proper ergonomics helps prevent injuries such as back pain, eye strain, and repetitive strain injuries.
      </p>
      <h4 class="lesson-section-title">Best Practices</h4>
      <ul class="lesson-list">
        <li>Adjust your chair and monitor to maintain good posture.</li>
        <li>Keep your feet flat on the floor and wrists straight while typing.</li>
        <li>Take regular breaks to prevent eye strain and fatigue.</li>
        <li>Use wrist rests and footrests as needed.</li>
        <li>Arrange tools and components within easy reach to avoid awkward movements.</li>
      </ul>
      <h4 class="lesson-section-title">Do’s and Don’ts</h4>
      <ul class="lesson-list">
        <li><strong>Do:</strong> Sit with your back straight and monitor at eye level.</li>
        <li><strong>Don’t:</strong> Slouch or lean forward for long periods.</li>
        <li><strong>Do:</strong> Adjust lighting to reduce glare on the screen.</li>
        <li><strong>Don’t:</strong> Place monitors too close to your eyes.</li>
      </ul>
      <h4 class="lesson-section-title">Stretching Exercises</h4>
      <p class="lesson-paragraph">Try these quick stretches every 30–60 minutes:</p>
      <ul class="lesson-list">
        <li>Neck rotations and shoulder rolls.</li>
        <li>Wrist and finger stretches.</li>
        <li>Standing and stretching your back and legs.</li>
      </ul>
      <div class="lesson-highlight lesson-blue glass-card">
        <strong>Tip:</strong>
        <p>Follow the 20-20-20 rule: Every 20 minutes, look at something 20 feet away for 20 seconds to reduce eye strain.</p>
      </div>
    </div>
  `
  },
  6: {
    title: "Chemical Safety",
    short: "Handling chemicals safely in CSS.",
    icon: "src/chemical.png",
    content: `
    <div class="lesson-card-content glass-card">
<img src="src/chemicalbanner.gif" alt="Chemical safety in computer labs" class="lesson-img-banner" />
            <video class="lesson-video" src="src/chemicalsafety.mp4" controls autoplay muted></video>
            <p class="video-source">Source: Working Safely with Chemicals - https://www.youtube.com/watch?v=LqfHVWr-r28 </p>
      <p class="lesson-paragraph">
        Chemicals such as cleaning solvents, printer toner, and soldering flux are common in computer servicing. Mishandling these can cause skin irritation, respiratory problems, or even fires.
      </p>
      <h4 class="lesson-section-title">Safe Handling Practices</h4>
      <ul class="lesson-list">
        <li>Store chemicals in labeled, sealed containers away from heat sources.</li>
        <li>Wear gloves, masks, and goggles when handling hazardous substances.</li>
        <li>Work in well-ventilated areas to avoid inhaling fumes.</li>
        <li>Dispose of chemical waste according to local regulations.</li>
        <li>Read and follow Material Safety Data Sheets (MSDS) for all chemicals used.</li>
      </ul>
      <h4 class="lesson-section-title">First Aid Procedures</h4>
      <ul class="lesson-list">
        <li>If toner contacts skin: rinse immediately with cold water.</li>
        <li>If chemical splashes into eyes: flush with clean water for at least 15 minutes.</li>
        <li>If fumes are inhaled: move to fresh air immediately.</li>
        <li>Always report incidents to your supervisor or teacher.</li>
      </ul>
      <h4 class="lesson-section-title">Color-Coded Labels</h4>
      <ul class="lesson-list">
        <li><span style="color:#dc2626;font-weight:bold;">Red:</span> Flammable</li>
        <li><span style="color:#eab308;font-weight:bold;">Yellow:</span> Reactive</li>
        <li><span style="color:#059669;font-weight:bold;">Green:</span> Safe / Non-hazardous</li>
        <li><span style="color:#2563eb;font-weight:bold;">Blue:</span> Health Hazard</li>
      </ul>
      <div class="lesson-highlight lesson-red glass-card">
        <strong>Warning:</strong>
        <p>Never mix chemicals unless you are sure it is safe. Some combinations can produce toxic gases.</p>
      </div>
    </div>
  `
  },
  7: {
    title: "Emergency Preparedness",
    short: "Preparing for emergencies in CSS.",
    icon: "src/emer.png",
    content: `
    <div class="lesson-card-content glass-card">
<img src="src/emergency.jpg" alt="Emergency preparedness drill" class="lesson-img-banner" />
            <video class="lesson-video" src="src/emergencypreparedness.mp4" controls autoplay muted></video>
            <p class="video-source">Source: 6 Steps to Developing an Emergency Action Plan for Your Facility - https://www.youtube.com/watch?v=cgDcnGwZUh4 </p>
      <p class="lesson-paragraph">
        Being prepared for emergencies can save lives and minimize damage. This includes knowing what to do in case of fire, electrical accidents, chemical spills, or medical emergencies.
      </p>
      <h4 class="lesson-section-title">Basic Guidelines</h4>
      <ul class="lesson-list">
        <li>Know the location of fire exits, alarms, and extinguishers.</li>
        <li>Be familiar with evacuation routes and assembly points.</li>
        <li>Participate in regular emergency drills and training.</li>
        <li>Keep emergency contact numbers visible and accessible.</li>
        <li>Report all incidents and near-misses to supervisors immediately.</li>
      </ul>
      <h4 class="lesson-section-title">Types of Fire Extinguishers</h4>
      <ul class="lesson-list">
        <li><strong>Class A:</strong> For wood, paper, cloth (ordinary combustibles).</li>
        <li><strong>Class B:</strong> For flammable liquids like oil or gasoline.</li>
        <li><strong>Class C:</strong> For electrical fires — most relevant in CSS labs.</li>
      </ul>
      <h4 class="lesson-section-title">Emergency Kit Checklist</h4>
      <ul class="lesson-list">
        <li>Flashlight with spare batteries</li>
        <li>First aid kit</li>
        <li>Whistle for signaling</li>
        <li>List of emergency contacts</li>
        <li>Basic tools (pliers, wrench, screwdriver)</li>
      </ul>
      <h4 class="lesson-section-title">Roles and Responsibilities</h4>
      <ul class="lesson-list">
        <li><strong>Fire Marshal:</strong> Ensures safe evacuation.</li>
        <li><strong>First Aid Responder:</strong> Provides immediate care for injuries.</li>
        <li><strong>Communicator:</strong> Calls emergency services and informs supervisors.</li>
      </ul>
      <div class="lesson-highlight lesson-yellow glass-card">
        <strong>Remember:</strong>
        <p>Do not attempt to fight large fires. Evacuate immediately and let professionals handle the situation.</p>
      </div>
    </div>
  `
  }
  // Add more lessons as needed
};

function getLessonsProgress() {
  const lessons = JSON.parse(localStorage.getItem('lessons')) || { completed: [] };
  return lessons;
}

function updateProgressBar() {
  const lessons = getLessonsProgress();
  const total = Object.keys(lessonsContent).length;
  const completedCount = lessons.completed.length;
  const percent = total === 0 ? 0 : Math.round((completedCount / total) * 100);
  const progressBar = document.getElementById('progress-bar');
  const progressText = document.getElementById('progress-text');
  if (progressBar) {
    progressBar.style.width = percent + '%';
  }
  if (progressText) {
    progressText.textContent = percent + '% Complete';
  }
}

function setLessonsProgress(lessons) {
  localStorage.setItem('lessons', JSON.stringify(lessons));
  updateProgressBar();
}

document.addEventListener('DOMContentLoaded', function () {
  // Palette/theme sync with settings
  const palette = localStorage.getItem('palette') || 'light';
  document.documentElement.classList.remove(
    'palette-light','palette-dark','palette-emerald','palette-sunset','palette-royal','palette-slate','palette-rose','palette-amber','palette-teal','palette-crimson','palette-indigo'
  );
  document.documentElement.classList.add('palette-' + palette);

  // Render lesson cards
  function renderLessonCards(filterText = '') {
    const lessons = getLessonsProgress();
    const container = document.getElementById('lesson-cards');
    container.innerHTML = '';
    Object.keys(lessonsContent).forEach(id => {
      const lesson = lessonsContent[id];
      const completed = lessons.completed.includes(Number(id));
      // Filter lessons by title or short description based on filterText
      if (filterText) {
        const lowerFilter = filterText.toLowerCase();
        if (!lesson.title.toLowerCase().includes(lowerFilter) && !lesson.short.toLowerCase().includes(lowerFilter)) {
          return; // skip this lesson if it doesn't match filter
        }
      }
      container.innerHTML += `
        <div class="lesson-card lesson-hazard glass-card" data-lesson="${id}" tabindex="0" style="flex: 1 1 300px; max-width: 320px; min-width: 280px;">
          <div class="lesson-card-body">
            <span class="lesson-icon-bg">
              <img src="${lesson.icon}" alt="Lesson Icon" class="lesson-icon" />
            </span>
            <div class="lesson-info">
              <h5 class="lesson-title">${lesson.title} ${completed ? '<span class="lesson-complete">&#10003;</span>' : ''}</h5>
              <p class="lesson-short">${lesson.short || ''}</p>
            </div>
          </div>
        </div>
      `;
    });
    // Add click listeners to .lesson-card
    document.querySelectorAll('.lesson-card').forEach(card => {
      card.onclick = function() {
        document.getElementById('greeting').style.display = 'none';
        showLessonDetail(card.getAttribute('data-lesson'));
        window.scrollTo(0, 0);
      };
    });
  }

  // Show lesson detail
  function showLessonDetail(id) {
    const lesson = lessonsContent[id];
    if (!lesson) return;
    const lessonsList = document.getElementById('lessons-list');
    const lessonDetail = document.getElementById('lesson-detail');
    lessonsList.classList.add('hidden');
    lessonDetail.classList.remove('hidden');
    document.getElementById('lesson-title').textContent = lesson.title;
    document.getElementById('lesson-content').innerHTML = `<div class="lesson-detail-content">${lesson.content}</div>`;
    // Mark complete button state
    const lessons = getLessonsProgress();
    const btn = document.getElementById('mark-complete');
    if (lessons.completed.includes(Number(id))) {
      btn.textContent = 'Completed';
      btn.disabled = true;
    } else {
      btn.textContent = 'Mark as Complete';
      btn.disabled = false;
      btn.onclick = function() {
        lessons.completed.push(Number(id));
        setLessonsProgress(lessons);
        showLessonDetail(id);
      };
    }
    document.getElementById('back-to-list').onclick = function() {
      document.getElementById('greeting').style.display = 'flex';
      lessonDetail.classList.add('hidden');
      lessonsList.classList.remove('hidden');
      renderLessonCards();
      window.scrollTo(0, 0);
    };
  }

  // Initial render
  renderLessonCards();
  updateProgressBar();
  document.getElementById('lesson-detail').classList.add('hidden');
  document.getElementById('lessons-list').classList.remove('hidden');

  // Add event listener for search input to filter lessons dynamically
  const searchInput = document.getElementById('lesson-search');
  if (searchInput) {
    searchInput.addEventListener('input', function() {
      const filterText = this.value.trim();
      renderLessonCards(filterText);
    });
  }
});

function updateProgressBar() {
  const lessons = getLessonsProgress();
  const total = Object.keys(lessonsContent).length;
  const completedCount = lessons.completed.length;
  const percent = total === 0 ? 0 : Math.round((completedCount / total) * 100);
  const progressBar = document.getElementById('progress-bar');
  const progressText = document.getElementById('progress-text');
  if (progressBar) {
    progressBar.style.width = percent + '%';
  }
  if (progressText) {
    progressText.textContent = percent + '% Complete';
  }
}
</script>
</body>
</html>